name: test-app-frontend
application: test-app

# Docker image repository (without tag)
# Tag is provided at deploy time via service_image_tags from the CI pipeline.
# Using app-specific frontend image - code is in applications/test-app/frontend/
image_repo: ghcr.io/orshalit/test-app-frontend

# Required fields (no defaults - must be explicitly defined)
container_port: 3000  # Container port (1-65535)
cpu: 256              # CPU units (256-4096, must be multiple of 256 for Fargate)
memory: 512            # Memory in MB (512-30720, must match valid Fargate CPU/memory combination)
desired_count: 2       # Desired task count (0-1000)

env:
  LOG_LEVEL: INFO
  # BACKEND_API_URL: Uses HTTPS with host-based routing subdomain
  BACKEND_API_URL: "https://test-api.app.dev.light-solutions.org"

alb:
  alb_id: app_shared
  listener_protocol: HTTPS
  listener_port: 443
  path_patterns:
    - "/*"  # Host-based routing - matches all paths
  host_patterns:
    - "test-frontend.app.dev.light-solutions.org"  # Test subdomain for host-based routing


