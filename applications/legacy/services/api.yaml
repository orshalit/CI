name: api
application: legacy

# Base container image without tag; tag is provided at deploy time
# via service_image_tags from the CI pipeline.
image_repo: ghcr.io/orshalit/ci-backend
container_port: 8000

cpu: 256
memory: 512
desired_count: 2

env:
  LOG_LEVEL: INFO
  # DATABASE_URL is optional - leave empty if database is not deployed
  # When database is deployed, update this with the connection string
  DATABASE_URL: ""

alb:
  alb_id: app_shared
  listener_protocol: HTTPS
  listener_port: 443
  path_patterns:
    - "/legacy-api/*"
  host_patterns:
    - "app.dev.example.com"  # ⚠️ Replace with actual domain or remove for ALB DNS access
  health_check_path: "/health"

